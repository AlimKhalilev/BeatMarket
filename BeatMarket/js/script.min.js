function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp-support")})),$(document).ready((function(){!function(){let e=document.querySelector(".overlay_modal"),t=document.documentElement,n=document.body,a=0,o=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);function l(t){e.classList.add("visible"),n.classList.add("hideScroll"),n.style.paddingRight=a+"px",document.querySelector("#"+t).classList.add("visible")}function r(){document.querySelector(".modal.visible").classList.remove("visible"),setTimeout(()=>{e.classList.remove("visible"),n.classList.remove("hideScroll"),n.style.paddingRight=""},150)}Math.max(n.scrollHeight,n.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)>o&&(a=function(){const e=document.createElement("div");e.classList.add("scroll_block_dummy"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}()),document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",()=>{l(e.dataset.modal)})}),document.querySelectorAll("[data-changeModal]").forEach(e=>{e.addEventListener("click",()=>{return t=e.dataset.changemodal,r(),void setTimeout(()=>l(t),700);var t})}),document.querySelectorAll("[data-closeModal]").forEach(e=>{e.addEventListener("click",()=>r())})}(),function(){let e=$("[data-burger='button']"),t=$("[data-burger='menu']"),n=document.querySelector(".overlay_burger"),a=document.body;$(e).click(()=>{t.toggleClass("active"),a.classList.toggle("hideScroll")}),n.addEventListener("click",()=>{$(e).click(),$(e).find("input").prop("checked",!1)})}(),document.querySelectorAll("select").forEach(e=>{$(e).selectric()}),function(){let e=document.querySelector(".overlay_burger");document.querySelectorAll("[data-scroll]").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),function(t){null!==document.querySelector(".overlay_burger.visible")&&e.click();document.querySelector(t).scrollIntoView({behavior:"smooth"})}(t.target.dataset.scroll)})})}();null!==document.querySelector("#stategyPromoChart")&&Highcharts.chart("stategyPromoChart",{chart:{type:"spline",style:{fontFamily:""}},title:{text:""},xAxis:{categories:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],labels:{style:{fontSize:"16px",color:"#373943"}}},yAxis:{title:{text:""},labels:{formatter:function(){return this.value/1e3+"к"},style:{fontSize:"16px",color:"#373943"}}},tooltip:{crosshairs:!0,shared:!0,useHTML:!0,valueSuffix:"$"},plotOptions:{spline:{marker:{radius:4,lineColor:"transparent",lineWidth:1}}},series:[{name:"Портфель",marker:{symbol:"circle"},data:[1500,2100,3500,5500,4200,6500,7200],color:"#3E54D8"},{name:"S&P 500",marker:{symbol:"circle"},data:[2200,2300,5200,3700,4e3,7800,3800],color:"#DE4355"},{name:"Советник",marker:{symbol:"circle"},data:[4200,3300,1200,7700,2e3,5800,1800],color:"#199F27"}]}),function(){document.querySelectorAll(".mySearchContainer").forEach(e=>{e.addEventListener("input",e=>{let t,n,a,o;for(t=document.querySelector(".mySearchInput"),n=t.value.toUpperCase(),div=document.querySelector(".mySearchContainer"),a=div.getElementsByTagName("div"),o=0;o<a.length;o++)txtValue=a[o].textContent||a[o].innerText,txtValue.toUpperCase().indexOf(n)>-1?a[o].style.display="":a[o].classList.contains("add")||(a[o].style.display="none")})});let e=[];function t(n){const a=document.querySelector(".breadcrumbs");null!==a&&(a.innerHTML="",n.forEach((n,o)=>{let l=document.createElement("div");l.classList.add("breadcrumb"),l.setAttribute("data-id",o);let r=document.createElement("strong");r.innerHTML=n.name;let c=document.createElement("span");c.innerHTML=n.org,l.appendChild(r),l.appendChild(c),a.appendChild(l),l.addEventListener("click",(function(n){let a=l.getAttribute("data-id");e.splice(a,1),t(e)}))}))}document.querySelectorAll(".input_search-container > div").forEach(n=>{n.addEventListener("mousedown",()=>{let a=n.querySelector(".content strong").innerHTML,o=n.querySelector(".content span").innerHTML;e.push({name:a,org:o}),t(e)})}),document.querySelectorAll(".mySearchInput").forEach(e=>{myContainer=document.querySelector(".input_search-container"),e.addEventListener("focus",e=>{myContainer.classList.add("visible")}),e.addEventListener("blur",e=>{myContainer.classList.remove("visible")})}),t(e)}(),function(){let e=!1,t=document.querySelectorAll(".myStrategy-items-item");$(".myStrategy-items").sortable(),$(".myStrategy-items").disableSelection(),$(".myStrategy-items").sortable("disable"),document.querySelectorAll(".myStrategy-header button").forEach(n=>{n.addEventListener("click",a=>{n.classList.toggle("active"),e=!e,e?($(".myStrategy-items").sortable("enable"),n.children[1].innerHTML="Сохранить порядок"):($(".myStrategy-items").sortable("disable"),n.children[1].innerHTML="Изменить порядок"),t.forEach(e=>{e.classList.toggle("move")})})})}();null!==document.querySelector("#dividendsGraph")&&Highcharts.chart("dividendsGraph",{chart:{type:"variablepie",backgroundColor:"transparent"},title:{text:""},tooltip:{headerFormat:"",pointFormat:'\n        <div style="text-align: center;">\n          <h5>{point.name}</h5>\n          <span>{point.y}$</span>\n        </div>\n      ',useHTML:!0},series:[{innerSize:"60%",zMin:1,name:"countries",borderWidth:0,borderColor:null,data:[{name:"AMAT",y:1e3,z:100,color:"#199F27"},{name:"AMGN",y:1e3,z:100,color:"#DE4355"},{name:"BFB",y:1e3,z:100,color:"#3E54D8"},{name:"Other",y:2e3,z:100,color:"#929398"}]}]}),document.querySelectorAll("[data-counter]").forEach(e=>{e.addEventListener("click",()=>{let t=+document.querySelector("#"+e.dataset.counter).innerText;"minus"===e.dataset.operation?t--:t++,document.querySelector("#"+e.dataset.counter).innerText=t})}),function(){const e={months:["Янв 2020","Фев 2020","Мар 2020","Апр 2020","Май 2020","Июн 2020","Июл 2020","Авг 2020","Сен 2020","Окт 2020","Ноя 2020","Дек 2020"],data:[{name:"Мой портфель",class:"primary"},{name:"S&P 500",class:"success"}],percentData:[[32.56,-12.22],[4.44,5.12],[6.18,-5.22],[-10.22,16.66],[10.23,-5.11],[12.22,20.66],[-5.22,4.44],[10.23,-12.22],[-5.11,20.66],[32.56,10.23],[5.12,20.66],[-5.11,16.66]]},t=function(){let t=e.percentData.map(e=>Math.max.apply(null,e)),n=Math.max.apply(null,t),a=Math.ceil(n).toFixed(2),o=[a,0,"-"+a],l=document.querySelector(".banchGraph-descr-percent");if(null===l)return!1;return o.forEach(e=>{let t=document.createElement("span");t.innerHTML=e,l.appendChild(t)}),a}();!function(){let t=document.querySelector(".banchGraph-descr-items");if(null===t)return!1;e.data.forEach(e=>{let n=document.createElement("div");n.classList.add("banchGraph-descr-items-item");let a=document.createElement("span");a.classList.add(e.class),a.innerHTML=e.name,n.appendChild(a),t.appendChild(n)})}(),function(t){let n=document.querySelector(".banchGraph-content");if(null===n)return!1;e.months.forEach((a,o)=>{let l=document.createElement("div");l.classList.add("banchGraph-content-item");let r=document.createElement("div");r.classList.add("banchGraph-content-item-graph");let c=document.createElement("div");c.classList.add("banchGraph-content-item-graph-half");let i=document.createElement("div");i.classList.add("banchGraph-content-item-date");let s=document.createElement("span");s.innerHTML=a,i.appendChild(s);let d=document.createElement("div");d.classList.add("banchGraph-content-item-stat"),e.percentData[o].forEach((n,a)=>{let o=document.createElement("span");o.innerHTML=n+"%",o.classList.add(n>0?"success":"error"),d.appendChild(o);let l=document.createElement("div");l.classList.add("banchGraph-content-item-graph-half-item"),l.classList.add(e.data[a].class);let r=100*n/t;r<0&&(r=Math.abs(r),l.style.transform="translateY(calc(100% + 2px)) rotate(180deg)"),l.style.height=r+"%",c.appendChild(l)}),r.appendChild(c),l.appendChild(r),l.appendChild(i),l.appendChild(d),n.appendChild(l)})}(t)}();const e=document.querySelector("#separation_graph_1"),t=document.querySelector("#separation_graph_2"),n=document.querySelector("#separation_graph_3"),a=document.querySelector("#separation_graph_4"),o=document.querySelector("#separation_graph_5"),l=document.querySelector("#separation_graph_6");function r(e,t,n,a,o){null!==e&&(Highcharts.chart(t,{chart:{type:"variablepie",backgroundColor:"transparent"},title:{text:""},tooltip:{headerFormat:"",pointFormat:'\n            <div style="text-align: center;">\n              <h5>{point.name}</h5>\n              <span>{point.y}%</span>\n            </div>\n          ',useHTML:!0},series:[{innerSize:o,zMin:1,name:"countries",borderWidth:0,borderColor:null,data:n}]}),a?function(e,t,n){t.forEach(t=>{let a=document.createElement("div");a.classList.add("graphContent");let o=document.createElement("label");o.classList.add("graphContent-name"),o.classList.add("label");let l=document.createElement("div");l.style.backgroundColor=t.color;let r=document.createElement("input");r.setAttribute("type","radio"),r.setAttribute("name",n),r.classList.add("visually_hidden"),r.classList.add("radio_custom");let c=document.createElement("span");c.innerHTML=t.name,o.appendChild(l),o.appendChild(r),o.appendChild(c);let i=document.createElement("strong");i.classList.add("graphContent-value"),i.innerHTML=t.y+"%",a.appendChild(o),a.appendChild(i),e.appendChild(a)})}(e.nextElementSibling,n,t):c("70%"===o?document.querySelector(".content-graphInfo"):e.nextElementSibling,n))}function c(e,t){t.forEach(t=>{let n=document.createElement("div");n.classList.add("graphContent");let a=document.createElement("div");a.classList.add("graphContent-name");let o=document.createElement("div");o.style.backgroundColor=t.color;let l=document.createElement("span");l.innerHTML=t.name,a.appendChild(o),a.appendChild(l);let r=document.createElement("strong");r.classList.add("graphContent-value"),r.innerHTML=t.y+"%",n.appendChild(a),n.appendChild(r),e.appendChild(n)})}r(e,"separation_graph_1",[{name:"Intel",y:5,z:100,color:"#5BDE60"},{name:"Texas instrumental",y:23.03,z:100,color:"#5B97DE"},{name:"Tractor supply",y:7.11,z:100,color:"#DE5B5B"},{name:"Pool",y:8.25,z:100,color:"#DEAA5B"},{name:"ZM company",y:3.03,z:100,color:"#5E5BDE"},{name:"Mastercard",y:5.24,z:100,color:"#BC5BDE"},{name:"Other",y:55.67,z:100,color:"#acacac"}],!1,"60%"),r(t,"separation_graph_2",[{name:"Financial",y:5,z:100,color:"#5BDE60"},{name:"Technology",y:33.03,z:100,color:"#5B97DE"},{name:"Tractor supply",y:17.11,z:100,color:"#DE5B5B"},{name:"Pool",y:28.25,z:100,color:"#DEAA5B"},{name:"ZM company",y:13.03,z:100,color:"#5E5BDE"}],!1,"60%"),r(n,"separation_graph_3",[{name:"Equity",y:100,z:100,color:"#DE5B5B"}],!1,"60%"),r(a,"separation_graph_4",[{name:"INT",y:23.03,z:100,color:"#2C7259"},{name:"TXN",y:7.11,z:100,color:"#FFEB34"},{name:"TCKO",y:8.25,z:100,color:"#B22D2D"},{name:"Pool",y:3.03,z:100,color:"#BC5BDE"},{name:"MA",y:5.24,z:100,color:"#2D1336"},{name:"MMA",y:55.67,z:100,color:"#842EA3"},{name:"LEG",y:3.03,z:100,color:"#5BDE60"},{name:"INT",y:23.03,z:100,color:"#2C7259"},{name:"TXN",y:7.11,z:100,color:"#FFEB34"},{name:"TCKO",y:8.25,z:100,color:"#B22D2D"},{name:"Pool",y:3.03,z:100,color:"#BC5BDE"},{name:"MA",y:5.24,z:100,color:"#2D1336"},{name:"MMA",y:55.67,z:100,color:"#842EA3"},{name:"LEG",y:3.03,z:100,color:"#5BDE60"},{name:"INT",y:23.03,z:100,color:"#2C7259"},{name:"TXN",y:7.11,z:100,color:"#FFEB34"},{name:"TCKO",y:8.25,z:100,color:"#B22D2D"},{name:"Pool",y:3.03,z:100,color:"#BC5BDE"},{name:"MA",y:5.24,z:100,color:"#2D1336"},{name:"MMA",y:55.67,z:100,color:"#842EA3"},{name:"LEG",y:3.03,z:100,color:"#5BDE60"}],!1,"70%"),r(o,"separation_graph_5",[{name:"Financial",y:5,z:100,color:"#5BDE60"},{name:"Technology",y:33.03,z:100,color:"#5B97DE"},{name:"Tractor supply",y:17.11,z:100,color:"#DE5B5B"},{name:"Pool",y:28.25,z:100,color:"#DEAA5B"},{name:"ZM company",y:13.03,z:100,color:"#5E5BDE"},{name:"Industrial goods",y:5.24,z:100,color:"#BC5BDE"}],!0,"60%"),r(l,"separation_graph_6",[{name:"Акции",y:80,z:100,color:"#5E5BDE"},{name:"ETFS",y:0,z:100,color:"#5B97DE"},{name:"Фонды",y:20,z:100,color:"#DE5B5B"},{name:"Денежные средства",y:0,z:100,color:"#DEAA5B"}],!0,"60%"),rusLocale={format:"DD.MM.YYYY",applyLabel:"Ок",cancelLabel:"Отмена",fromLabel:"От",toLabel:"До",customRangeLabel:"Произвольный",daysOfWeek:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1},$("#chooseDataStrategy").daterangepicker({locale:rusLocale,opens:"left"},(function(e,t,n){$("#chooseDataStrategyValue").text(e.format("DD.MM.YYYY")+" - "+t.format("DD.MM.YYYY"))})),$(".period-info-date").daterangepicker({locale:rusLocale,opens:"right"},(function(e,t,n){$(".period-info-date span").text(e.format("DD.MM.YYYY")+" - "+t.format("DD.MM.YYYY"))})),function(){let e=document.querySelectorAll(".modal-content-simpleText");document.querySelectorAll(".statTable__content").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("statTable__content--opened")})}),document.querySelectorAll(".statTable__item--comment").forEach(t=>{t.addEventListener("click",n=>{let a=t.querySelector(".statTable__value").innerHTML;e.length>0&&(e[0].innerHTML=a),n.stopPropagation()})})}();let i=document.querySelectorAll(".js-contenteditable-btn"),s=document.querySelectorAll(".js-contenteditable-input"),d=document.querySelectorAll(".js-contenteditable-span");i.forEach(e=>e.addEventListener("click",(function(e){s.forEach(e=>e.classList.add("h-hide")),d.forEach(e=>e.classList.remove("h-hide"));let t=this.parentElement.querySelector(".js-contenteditable-span"),n=this.parentElement.querySelector(".js-contenteditable-input");t.classList.add("h-hide"),n.classList.remove("h-hide"),n.focus()})));let m=document.querySelectorAll(".details__btn, .details__title");null!==m&&m.forEach(e=>e.addEventListener("click",(function(e){this.closest(".details").classList.toggle("details--open")}))),document.querySelectorAll(".prompt__close").forEach(e=>e.addEventListener("click",(function(e){this.closest(".prompt").classList.add("prompt--hide")})));let u=document.querySelectorAll(".tooltip");document.querySelectorAll(".tooltip__btn").forEach(e=>e.addEventListener("click",e=>{u.forEach(e=>e.classList.remove("tooltip--open")),e.target.parentElement.classList.toggle("tooltip--open")})),document.addEventListener("mouseup",(function(e){null===e.target.closest(".tooltip")&&u.forEach(e=>e.classList.remove("tooltip--open"))})),document.querySelector("#adv-prtf-ready__comparison-chart")&&Highcharts.chart("adv-prtf-ready__comparison-chart",{chart:{type:"spline",style:{fontFamily:""}},title:{text:""},xAxis:{categories:["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],labels:{style:{fontSize:"16px",color:"#373943"}}},yAxis:{title:{text:""},labels:{formatter:function(){return this.value/1e3+"к"},style:{fontSize:"16px",color:"#373943"}}},tooltip:{crosshairs:!0,shared:!0,useHTML:!0},plotOptions:{spline:{marker:{radius:4,lineColor:"transparent",lineWidth:1}}},series:[{name:"Ваш портфель",marker:{symbol:"circle"},data:[1500,2100,3500,5500,4200,6500,7200],color:"#3E54D8"},{name:"S&P 500",marker:{symbol:"circle"},data:[2200,2300,5200,3700,4e3,7800,3800],color:"#DE4355"}]}),function(e){let t=document.body,n=document.documentElement,a=0,o=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)>o&&(a=function(){const e=document.createElement("div");e.classList.add("scroll_block_dummy"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}());const l=[{title:'Вкладка "Мой портфель"',text:"Ведите учет своих собственных инвестиций и отслеживайте доходность. \n                    Проверяйте и сравнивайте разные стратегии, следите за выбранными компаниями или криптовалютой. \n                    Все ваши инвестиции в одном месте. Легко и удобно"},{title:'Вкладка "Советник"',text:"Если вы хотите инвестировать, используя рекомендации советника BeatMarket, тогда эта вкладка для вас. \n                    BeatMarket Advisor поможет сгенерировать сбалансированный персональный портфель акций, проследит за выбранными \n                    компаниями и укажет, если стоит продать."},{title:'Вкладка "Подписка"',text:"Здесь вы можете ознакомиться со всеми имеющимися тарифами и выбрать тот, который подойдет именно вам. \n                    Вся актуальная информация по подписке будет находится в этой вкладке"}];if(e){const e=document.querySelector(".onboard"),n=document.querySelector(".onboard-container"),o=document.querySelectorAll(".onboard-content-info-pagination-item"),i=document.querySelectorAll(".onboard-items li"),s=document.querySelector(".onboard-content-info-buttons .next"),d=document.querySelector(".onboard-content-info-buttons .prev"),m=document.querySelector(".onboard-content-info-subtitle"),u=document.querySelector(".onboard-content-info-description");let p=0;function r(e){e!==l.length?(0===e&&d.classList.add("hidden"),e>0&&d.classList.remove("hidden"),s.innerHTML=e===l.length-1?"Закрыть":"Далее",o[p].classList.remove("active"),o[e].classList.add("active"),i[p].classList.remove("active"),i[e].classList.add("active"),m.innerHTML=l[e].title,u.innerHTML=l[e].text):c(e)}function c(a){n.classList.add("invisible"),setTimeout(()=>{t.classList.remove("hideScroll"),t.style.paddingRight="",e.classList.remove("visible"),n.classList.add("hidden")},150),setTimeout(()=>{o[a-1].classList.remove("active"),i[a-1].classList.remove("active"),o[0].classList.add("active"),i[0].classList.add("active"),s.innerHTML="Далее",p=0},160)}document.querySelectorAll(".onboard_activate").forEach(o=>{o.addEventListener("click",o=>{o.preventDefault(),p=0,d.classList.add("hidden"),n.classList.remove("invisible"),n.classList.remove("hidden"),e.classList.add("visible"),t.classList.add("hideScroll"),t.style.paddingRight=a+"px"})}),document.querySelector(".onboard .close").addEventListener("click",()=>{c(p+1)}),s.addEventListener("click",e=>{r(p+1),p+=1}),d.addEventListener("click",e=>{r(p-1),p-=1}),o.forEach(e=>{e.addEventListener("click",()=>{const t=Number(e.dataset.id);r(t),p=t})})}}(!0),document.querySelectorAll(".myStrategy-news-container .table-content-item").forEach(e=>{e.addEventListener("click",t=>{e.classList.toggle("shown")})}),document.querySelectorAll(".myStrategy-header").forEach(e=>{let t=document.querySelector(".myStrategy-indicators-container .table-scroll");null!=t&&(t.style.width=e.offsetWidth-2+"px")}),$(".strategyCards-card-range").slider(),document.querySelectorAll(".myStrategy-items-item-header-toggle").forEach(e=>{e.addEventListener("click",()=>{e.classList.toggle("active");const t=e.parentNode.nextElementSibling;null!==t&&t.classList.toggle("hidden")})});const p=document.querySelector(".section-header");if(null!==p&&window.innerWidth>=768){const e=document.querySelector(".main-menu-nav.nav");if(null!==e){let t=!0;pageYOffset>=p.clientHeight&&(t=!1,e.classList.add("fixed")),window.addEventListener("scroll",()=>{pageYOffset>=p.clientHeight&&t&&(t=!1,e.classList.add("fixed")),pageYOffset<=p.clientHeight&&!t&&(t=!0,e.classList.remove("fixed"))})}}}));